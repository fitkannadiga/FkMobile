{"version":3,"sources":["webpack:///./src/app/pages/chat/chat.module.ts","webpack:///./src/app/pages/chat/chat.page.html","webpack:///./src/app/pages/chat/chat.page.scss","webpack:///./src/app/pages/chat/chat.page.ts"],"names":[],"mappings":"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","file":"pages-chat-chat-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChatPage]\n})\nexport class ChatPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>Fitness Chat Support</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding *ngIf=\\\"isClient\\\">\\n    <div id=\\\"comment-wrapper\\\">\\n        <div *ngFor=\\\"let comment of commentData\\\" [ngClass]=\\\"comment.userID == userID ? 'userClass' : 'adminClass'\\\">\\n            <div class=\\\"chat-content-wrapper\\\">\\n                <div class=\\\"message\\\" [innerHTML]=\\\"comment.message\\\"></div>\\n                <p class=\\\"time\\\">{{timeDifference(comment.time)}}</p>\\n            </div>\\n        </div>\\n    </div>\\n</ion-content>\\n<ion-content *ngIf=\\\"!isClient\\\">\\n    <div id=\\\"non-client-text\\\">\\n        <ion-icon name=\\\"chatboxes\\\" color=\\\"success\\\"></ion-icon>\\n        <p>Please contact admin for online coaching and chat support</p>\\n    </div>\\n</ion-content>\\n<ion-footer *ngIf=\\\"isClient\\\">\\n    <ion-toolbar>\\n        <ion-row>\\n            <ion-col id=\\\"text-area-wrapper\\\">\\n                <!-- <ion-input placeholder=\\\"Type a message...\\\" id=\\\"diet-chat-message\\\" [(ngModel)]=\\\"userDietComment\\\"></ion-input> -->\\n                <ion-textarea placeholder=\\\"Type a message...\\\" id=\\\"diet-chat-message\\\" [(ngModel)]=\\\"userDietComment\\\"></ion-textarea>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\">\\n                <ion-button color=\\\"primary\\\" icon-only (click)=\\\"addUserComment();\\\">\\n                    <ion-icon name=\\\"send\\\"></ion-icon>\\n                </ion-button>\\n            </ion-col>\\n        </ion-row>\\n    </ion-toolbar>\\n</ion-footer>\"","module.exports = \"div#comment-wrapper div.adminClass {\\n  width: 70%;\\n  float: left;\\n  padding-bottom: 10px; }\\n  div#comment-wrapper div.adminClass div.chat-content-wrapper {\\n    min-width: 40%;\\n    float: left; }\\n  div#comment-wrapper div.adminClass div.message {\\n    background: #3880ff;\\n    padding: 8px 15px;\\n    border-radius: 15px;\\n    margin-bottom: 0px; }\\n  div#comment-wrapper div.adminClass p.time {\\n    padding: 0px;\\n    margin: 0px;\\n    text-align: left;\\n    opacity: 0.8;\\n    font-size: 0.7rem; }\\n  div#comment-wrapper div.userClass {\\n  width: 70%;\\n  float: right;\\n  padding-bottom: 10px; }\\n  div#comment-wrapper div.userClass div.chat-content-wrapper {\\n    min-width: 40%;\\n    float: right; }\\n  div#comment-wrapper div.userClass div.message {\\n    background: #dcdcdc;\\n    padding: 8px 15px;\\n    border-radius: 15px;\\n    margin-bottom: 0px; }\\n  div#comment-wrapper div.userClass p.time {\\n    padding: 0px;\\n    margin: 0px;\\n    text-align: right;\\n    opacity: 0.8;\\n    font-size: 0.7rem; }\\n  div#non-client-text {\\n  position: absolute;\\n  padding: 20px;\\n  bottom: 0;\\n  top: 0;\\n  margin: auto;\\n  left: 0;\\n  right: 0;\\n  height: 300px;\\n  text-align: center;\\n  font-weight: bold; }\\n  div#non-client-text ion-icon {\\n    font-size: 5rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yYWdoYXZlbmRyYXYvcHJvamVjdHMvRmtNb2JpbGUvc3JjL2FwcC9wYWdlcy9jaGF0L2NoYXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRVEsVUFBVTtFQUNWLFdBQVc7RUFDWCxvQkFBb0IsRUFBQTtFQUo1QjtJQU1ZLGNBQWM7SUFDZCxXQUFXLEVBQUE7RUFQdkI7SUFVWSxtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtJQUNuQixrQkFBa0IsRUFBQTtFQWI5QjtJQWdCWSxZQUFZO0lBQ1osV0FBVztJQUNYLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osaUJBQWlCLEVBQUE7RUFwQjdCO0VBd0JRLFVBQVU7RUFDVixZQUFZO0VBQ1osb0JBQW9CLEVBQUE7RUExQjVCO0lBNEJZLGNBQWM7SUFDZCxZQUFZLEVBQUE7RUE3QnhCO0lBZ0NZLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLGtCQUFrQixFQUFBO0VBbkM5QjtJQXNDWSxZQUFZO0lBQ1osV0FBVztJQUNYLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osaUJBQWlCLEVBQUE7RUFLN0I7RUFDSSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFNBQVM7RUFDVCxNQUFNO0VBQ04sWUFBWTtFQUNaLE9BQU87RUFDUCxRQUFRO0VBQ1IsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixpQkFBaUIsRUFBQTtFQVZyQjtJQVlRLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJkaXYjY29tbWVudC13cmFwcGVyIHtcbiAgICBkaXYuYWRtaW5DbGFzcyB7XG4gICAgICAgIHdpZHRoOiA3MCU7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgICAgZGl2LmNoYXQtY29udGVudC13cmFwcGVyIHtcbiAgICAgICAgICAgIG1pbi13aWR0aDogNDAlO1xuICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgZGl2Lm1lc3NhZ2Uge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogIzM4ODBmZjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNXB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICAgICAgfVxuICAgICAgICBwLnRpbWUge1xuICAgICAgICAgICAgcGFkZGluZzogMHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgb3BhY2l0eTogMC44O1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGl2LnVzZXJDbGFzcyB7XG4gICAgICAgIHdpZHRoOiA3MCU7XG4gICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgICAgIGRpdi5jaGF0LWNvbnRlbnQtd3JhcHBlciB7XG4gICAgICAgICAgICBtaW4td2lkdGg6IDQwJTtcbiAgICAgICAgICAgIGZsb2F0OiByaWdodDtcbiAgICAgICAgfVxuICAgICAgICBkaXYubWVzc2FnZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZGNkY2RjO1xuICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICAgICAgICB9XG4gICAgICAgIHAudGltZSB7XG4gICAgICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgb3BhY2l0eTogMC44O1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjdyZW07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmRpdiNub24tY2xpZW50LXRleHQge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvdHRvbTogMDtcbiAgICB0b3A6IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgaGVpZ2h0OiAzMDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgaW9uLWljb24ge1xuICAgICAgICBmb250LXNpemU6IDVyZW07XG4gICAgfVxufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ClientDataService } from '../../api/client-data.service';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { AngularFireDatabase } from '@angular/fire/database';\n\nimport { IonContent } from '@ionic/angular';\nimport { GlobalService } from '../../api/global.service';\nimport { CommonService } from '../../api/common.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.page.html',\n  styleUrls: ['./chat.page.scss'],\n})\nexport class ChatPage implements OnInit {\n\n  @ViewChild(IonContent) content: IonContent;\n\n  userID: any;\n  commentData: any;\n  subscription: any;\n  chatLoader: any;\n  userDietComment: any;\n  today: any;\n  postedDate: any;\n  isClient: boolean;\n  userData: any;\n\n  constructor(public clientService: ClientDataService, public loadingController: LoadingController, public toastr: ToastController, public afDataBase: AngularFireDatabase, public globlaComp: GlobalService, public commonService: CommonService) { \n    this.userID = window.localStorage.getItem('authID');\n\n    // the below user data should be a fresh call always to avoid conflicts\n    this.userID = window.localStorage.getItem('authID');\n    this.commonService.getprofile(this.userID).then((data) =>{\n      this.userData = data;\n      // console.log(\"user data in custom diet\", this.userData);\n      this.isClient = (this.userData.client == true) ? true : false;\n      if(this.isClient) {\n        this.getComments();\n      }\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  getComments(){\n    // subscribe to the client comment object\n    this.subscription = this.afDataBase.list('/client/'+this.userID+'/chats/comment').valueChanges().subscribe((data) => {\n      this.commentData = data;\n      setTimeout(()=> {\n        this.content.scrollToBottom();\n      }, 1000); \n    });\n    this.clearNotification();\n  }\n\n  clearNotification(){\n    this.afDataBase.database.ref(`/client/`+this.userID+`/chats`).child('adminMsgCount').transaction(function() {\n      return 0;\n    });\n  }\n\n  addAdminNotification(){\n    this.afDataBase.database.ref(`/client/`+this.userID+`/chats`).child('userMsgCount').transaction(function(userMsgCount) {\n      return userMsgCount + 1;\n    });\n  }\n\n  addUserComment(){\n    if(this.userDietComment.trim() != ''){\n      // post the comment\n      let comment = '<p>'+this.userDietComment+'</p>'\n      let timeNow = new Date();\n      // console.log(\"present Date\", timeNow);\n      let newCommentObj = {\n        \"time\": JSON.stringify(timeNow),\n        \"message\": this.urlify(comment),\n        \"userID\": this.userID\n      }\n\n        this.afDataBase.database.ref(`/client/`+this.userID).child('chats').child('comment').push(newCommentObj)\n        .then((data) => {\n          // after adding comment, focus on the comment or move to bottom of the page\n          this.content.scrollToBottom();\n          this.addAdminNotification();\n          this.userDietComment = \"\";\n        });\n    }\n  }\n\n  urlify(text) {\n    var urlRegex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g;\n    return text.replace(urlRegex, function(url) {\n        return '<a target=\"_blank\" href=\"' + url + '\">' + url + '</a>';\n    })\n  }\n\n  timeDifference(postedDate){\n    this.today = new Date();\n    this.postedDate = new Date(JSON.parse(postedDate));\n    var diffMs = (this.today - this.postedDate);\n    var diffDays = Math.floor(diffMs / 86400000); // days\n    var diffHrs = Math.floor((diffMs % 86400000) / 3600000); // hours\n    var diffMins = Math.round(((diffMs % 86400000) % 3600000) / 60000); // minutes\n\n    if(diffDays > 0){\n      return diffDays +\" days\";\n    } else if(diffHrs > 0){\n      return diffHrs +\" hrs\";\n    } else if(diffMins > 0){\n      return diffMins +\" min\";\n    } else {\n      return \"\"\n    }\n  }\n\n  async presentLoading(msg) {\n    this.chatLoader = await this.loadingController.create({\n      message: msg\n    });\n    await this.chatLoader.present();\n  }\n\n  async dismissLoader(){\n    await this.chatLoader.dismiss();\n  }\n\n  async presentToast(toastMsg) {\n    const toast = await this.toastr.create({\n      message: toastMsg,\n      duration: 3000\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":""}